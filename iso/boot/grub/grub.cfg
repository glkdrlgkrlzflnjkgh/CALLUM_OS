set timeout=10
set default=0

### --- MAIN CALLUMOS ENTRY ---
menuentry "CallumOS" {
    echo "BOOTING..."
    echo "Loading CallumOS kernel..."
    multiboot /boot/kernel.elf
    echo "executing 'boot' command..."
    boot
}

### --- SYSTEM ACTIONS SUBMENU ---
submenu "System Actions" {

    menuentry "ShutDown" {
        echo "Are you sure you want to shut down? (y/N)"
        read answer
        if [ "$answer" = "y" -o "$answer" = "Y" ]; then
            halt
        else
            echo "Cancelled."
            sleep 2
        fi
    }

    menuentry "ReBoot" {
        echo "Are you sure you want to reboot? (y/N)"
        read answer
        if [ "$answer" = "y" -o "$answer" = "Y" ]; then
            reboot
        else
            echo "Cancelled."
            sleep 2
        fi
    }
}

### --- DEVELOPER TOOLS ENTRY (CONFIRMATION) ---
menuentry "Developer Tools" {
    echo "WARNING: Developer Tools contain low-level utilities."
    echo "Incorrect use may break the system."
    echo "Are you sure you want to continue? (y/N)"
    read answer
    if [ "$answer" = "y" -o "$answer" = "Y" ]; then
        echo "Loading Developer Tools..."
        sleep 1
        configfile /boot/grub/devtools.cfg
    else
        echo "Cancelled."
        sleep 2
    fi
}

### --- HIDDEN ENTRY (OPTIONAL) ---
hiddenentry "Developer Tools (Unlocked)" {
    configfile /boot/grub/devtools.cfg
}